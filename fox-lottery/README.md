

## 数据不一致的原因？
1. Redis操作成功，数据库操作失败
2. Redis操作成功，数据库提交成功，但是提交事务后面报错了
3. redis操作成功，消息没发出去，或者消息发出去了，但是消息处理失败
4. Redis操作成功，服务宕机了


## 实现方案，两种以下两种方案扣库存
- [ ] 1. redis扣库存，消息队列异步处理订单，使用kafka事务消息



- [ ] 2. redis扣库存，使用数据库事务，并保证数据一致性

